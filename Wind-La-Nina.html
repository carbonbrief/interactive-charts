<!DOCTYPE HTML> 
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Graph: UK wind speeds vs load factors | Carbon Brief</title>
		<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
		<script src="https://code.highcharts.com/highcharts.js"></script>
		<script src="https://code.highcharts.com/modules/data.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>

		<style>
		
			#container {max-width: 800px;}
			
			#key {max-width: 800px; height: 26px; padding-bottom: 5px;}
			
			ul {font-family: PT Sans, Arial; font-size:12px; font-color: #ffffff; font-weight: bold; list-style: none;}
			
			li {float: left;}
			
			li img {width: 10px; padding-right: 10px; padding-left: 20px;}
			#logocontainer{ max-width: 800px; height: 26px;}
			
			#logo {position: absolute; right:10px;}
			
			@media screen and (min-width: 830px) {
					#logo {
							left: 778px;
					}
			}
		
		</style>

	</head>

	<body>
		
		<div id="container"></div>
		<div id="key">
			<ul>
				<li><img src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/la-nina-uk-wind-power/la-nina-key/strong-el-nino.png"/></li>
				<li>Very strong El Niño</li>
				<li><img src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/la-nina-uk-wind-power/la-nina-key/moderate-el-nino.png"/></li>
				<li>Moderate El Niño</li>
				<li><img src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/la-nina-uk-wind-power/la-nina-key/weak-el-nino.png"/></li>
				<li>Weak El Niño</li>
				<li><img src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/la-nina-uk-wind-power/la-nina-key/moderate-la-nina.png"/></li>
				<li>Moderate La Niña</li>
				<li><img src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/la-nina-uk-wind-power/la-nina-key/weak-la-nina.png"/></li>
				<li>Weak La Niña</li>
			</ul>
		</div>
		<div id="logocontainer">
			<img id="logo" src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/CB-logo-for-highcharts.png">
		</div>

		<script type="text/javascript">        
			$(function() {
				Highcharts.setOptions({

					// here is the CB colour scheme
					// dark blue - 0b4572
					// yellow - EFC530
					// light blue - 2f8fce
					// red - C7432B
					// light grey - 999999
					// lilac - A14A7B
					// orange - DF9239
					// you can make your own gradient custom here:
					// http://www.strangeplanet.fr/work/gradient-generator/?c=9:FFFFFF:000000

				
						colors: ['#0b4572', '#A14A7B', '#2f8fce', '#C7432B', '#999999', '#DF9239', '#A14A7B'],
					
					chart: {
				
					//    set the font family for the chart. PT Sans is CB default for body text.
				
							style: {
								fontFamily: '"PT Sans", Arial, sans-serif'
							}

					}

				});

				// Create the chart

				$('#container').highcharts({
						chart: {
							renderTo: 'container',
							backgroundColor: 'transparent',
							type: 'column',
							zoomType: 'x,y'
						},

					// set the title of the chart

					title: {
						text: 'UK wind speeds vs load factors (DJF)',
						align: 'left'
					},

					// turn off the navigation hamburger
					
					navigation: {
						buttonOptions: {
								enabled: false
						}
					},

					// turn off the highcharts credit
					credits: {
						enabled: false
					},

					// controls how the columns stack
					// options are 'normal' and 'percent'

					plotOptions: {
						column: {
							stacking: 'normal',
							negativeColor: '#0b4572',
							pointPadding: 0,
							groupPadding: 0
						},

						line:{
							lineWidth: 2
						}

					},

					// options for the y axis

					yAxis: [

						// first y-axis
						
						{

							tickInterval: 15,

							// sets the font size for the y axis labels

							labels: {

								style: {
									fontSize: '12px',	
									color: '#0b4572'	
								},
								format: '{value} %'
							},

							// sets the title

							title: {
								text: ''
							}

						},

						// second y-axis

						{
							tickPositions: [-6,-3,0,3,6],
								labels: {
									style: {
										fontSize: '12px',
										color: '#A14A7B'
									},

									// adds the suffix to values on the y axis

									format: '{value} Kn'
								},

								// set the title

								title: {
									text: '',
								},
								opposite: true
						}

					],

					// sets options for the x axis

					xAxis: {
						type: 'category',
						labels: {
							rotation: -45,
							style: {
								fontSize: '12px'
						
							}
						},

						// add shading bands to x-axis
					
						plotBands: [{ // shading
									from: 0.5,
									to: 1.5,
									color: 'rgba(199, 67, 43, .3)'
							},
							{ // shading
												from: 2.5,
												to: 3.5,
												color: 'rgba(199, 67, 43, .1)'
							},
							{ // shading
												from: 4.5,
												to: 5.5,
												color: 'rgba(199, 67, 43, .1)'
							},
							{ // shading
												from: 5.5,
												to: 6.5,
												color: 'rgba(47, 143, 206, .3)'
							},
							{ // shading
												from: 7.5,
												to: 8.5,
												color: 'rgba(199, 67, 43, .3)'
							},
							{ // shading
												from: 8.5,
												to: 9.5,
												color: 'rgba(47, 143, 206, .3)'
							},
							{ // shading
												from: 9.5,
												to: 10.5,
												color: 'rgba(47, 143, 206, .1)'
							},
							{ // shading
												from: 13.5,
												to: 14.5,
												color: 'rgba(199, 67, 43, .5)'
							}
						]
					},

					// edit the tooltip

					tooltip: {
						valueSuffix: ' % ',
						pointFormat: '{series.name}: <br/> <b>{point.y}</b><br/>',
						shared: true
					},

						// sets options for the legend

					legend: {

						// turn the legend on or off
						enabled: true,

						padding: 30,

						// set the layout of the legend
						layout: 'horizontal',
						floating: false,
						verticalAlign: 'top',
						align: 'center',

						// you can fine-tune the legend position here, make sure that it doesn't overlap with the title on a mobile
						y: 20,
					
					},

					// pull the data from a google spreadsheet
					// you have to publish the spreadsheet to the web
					// then grab the code from the url
					// for example here, the bit after "d/" and before the final "/"
					// https://docs.google.com/spreadsheets/d/1NAzRluJxGjyrJqsI6kjtSYxcPXTIL-lQZ6chFDcx2XI/

						data: {
							googleSpreadsheetKey: '1JBZpxMEpaKENBumJDBr2q-gRSWD_mR3htowAABy0Fnk',
							complete: function (options) {

								var series = options.series;
									
								// adding type of series on the fly
								series[1].type = 'line';
								series[1].yAxis = 1;
								series[1].tooltip = {
									valueSuffix: ' Kn'
								}

							}
						}

					},

					function(chart) { // on complete
						chart.renderer.image()
							.add();
					});
			});
			
		</script>
	</body>
</html>