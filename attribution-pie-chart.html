<html> 
    <meta charset="utf-8">
    <head>
        <title>Graph: Human influence in event attribution studies | Carbon Brief</title>
        <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/data.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script src="https://code.highcharts.com/modules/drilldown.js"></script>
        <style>

        #container {max-width: 800px;}

        #logocontainer{ max-width: 800px; height: 26px;}
        #logo {position: absolute; right:10px;}

        @media screen and (min-width: 830px) {
            #logo {
                left: 778px;
            }
        }

        </style>
    </head>
    <body>
    <!-- you can set minimum dimensions for the chart here -->
    <!-- for example swap the <div below for this version -->
    <!-- <div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div> -->

        <div id="container"></div>
        <div id="logocontainer">
        <img id="logo" src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/CB-logo-for-highcharts.png">
        </div>

        <script type="text/javascript">

        $(function() {
            Highcharts.setOptions({

            // here is the CB colour scheme
            // dark blue - 0b4572
            // yellow - EFC530
            // light blue - 2f8fce
            // red - C7432B
            // light grey - 999999
            // lilac - A14A7B
            // orange - DF9239
            // you can make your own gradient custom here:
            // http://www.strangeplanet.fr/work/gradient-generator/?c=9:FFFFFF:000000

                colors: ['#C7432B', '#DF9239', '#2f8fce', '#999999', '#0b4572', '#A14A7B', '#EFC530'],

                navigation: {
                    buttonOptions: {
                        enabled: false
                    }
                },

                lang: {
                        thousandsSep: ','
                    },

                chart: {

                    // set the font family for the chart. PT sans is CB default for body text

                    style: {
                    fontFamily: '"PT Sans", Arial, sans-serif'
                    }

                }
            });

            Highcharts.getOptions().drilldown.activeDataLabelStyle.color = '#0b4572';

            Highcharts.getOptions().drilldown.activeDataLabelStyle.fontSize = '12.2px';

            // Create the chart

            $('#container').highcharts({
                chart: {
                renderTo: 'container',
                backgroundColor: 'transparent',
                type: 'pie',
                },

                // set the title of the chart

                title: {
                text: 'Summary of human influence in event attribution studies',
                align: 'left',
                margin: 30
                },

                subtitle: {
                    text: 'Click the slices to view types of weather events',
                align: 'left',
                margin: 30
                },

                // turn off the highcharts credit

                credits: {
                enabled: false
                },

                plotOptions: {
                    series: {
                        dataLabels: {
                            enabled: true,
                            format: '{point.name}: {point.y:.0f}%'
                        }
                    }
                },

                // options for the y axis

                yAxis: {


                    // sets the font size for the y axis labels

                    labels: {
                        style: {
                        fontSize: '13px'
                        },

                        // adds the suffix "Mt" to the values on the y axis

                        format: '{value} Mt'
                    },

                    // set the title of the y axis

                    title: {
                    text: ''
                    }
                },

                // sets options for the x axis

                xAxis: {
                    type: 'category',
                    crosshair: {
                                    color: '#E5E5E5'
                                },
                    labels: {
                        style: {
                        fontSize: '13px'
                        }
                    }
                },

                // tweak this to change the tooltip. '.0f' refers to the number of decimal points

                tooltip: {
                    headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                    pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.0f}%</b> of total<br/>'
                },

                // sets options for the legend

                legend: {

                    // turn the legend on or off

                    enabled: true,
                    padding: 20,

                    // set the layout of the legend

                    layout: 'horizontal',
                    floating: false,
                    verticalAlign: 'top',

                    // you can fine-tune the legend position here, ensure that the title and the legend do not overlap on a mobile

                    y: 20


                },

                // for a drilldown the data is added directly to the html file

                series: [{
                    name: 'Result',
                    colorByPoint: true,
                    data: [{
                        name: 'More severe or more likely to occur',
                        y: 63,
                        drilldown: 'More severe or more likely to occur'
                    }, {
                        name: 'Less severe or less likely to occur',
                        y: 5,
                        drilldown: 'Less severe or less likely to occur'
                    }, {
                        name: 'No discernible human influence',
                        y: 14,
                        drilldown: 'No discernible human influence'
                    }, {
                        name: 'Insufficient data or inconclusive',
                        y: 18,
                        drilldown: 'Insufficient data or inconclusive'
                    }]
                }],

                drilldown: {
                    series: [{
                        name: 'More severe or more likely to occur',
                        id: 'More severe or more likely to occur',
                        data: [
                            ['Heat', 46],
                            ['Drought', 21],
                            ['Rainfall', 14],
                            ['Cold, snow & ice', 3],
                            ['Oceans', 9],
                            ['Storms', 4],
                            ['Wildfire', 2]
                        ]
                    }, {
                        name: 'Less severe or less likely to occur',
                        id: 'Less severe or less likely to occur',
                        data: [
                            ['Heat', 0],
                            ['Drought', 14],
                            ['Rainfall', 14],
                            ['Cold, snow & ice', 71],
                            ['Oceans', 0],
                            ['Storms', 0],
                            ['Wildfire', 0],
                        ]
                    }, {
                        name: 'No discernible human influence',
                        id: 'No discernible human influence',
                        data: [
                            ['Heat', 5],
                            ['Drought', 25],
                            ['Rainfall', 40],
                            ['Cold, snow & ice', 15],
                            ['Oceans', 0],
                            ['Storms', 15],
                            ['Wildfire', 0],
                        ]
                    }, {
                        name: 'Insufficient data or inconclusive',
                        id: 'Insufficient data or inconclusive',
                        data: [
                            ['Heat', 23],
                            ['Drought', 31],
                            ['Rainfall', 27],
                            ['Cold, snow & ice', 12],
                            ['Oceans', 0],
                            ['Storms', 8],
                            ['Wildfire', 0]
                        ]
                    }]
                }
            },

            function(chart) { // on complete

                chart.renderer.image()
                .add();


            });


        });

        </script>

    </body>
</html>