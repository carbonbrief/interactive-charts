<html>
<head>
	<title>Energy-related CO2 emissions of the G20 countries and the rest of the world in 2015 | Carbon Brief</title>
<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/treemap.js"></script>
</head>
<style>
	
	#container {max-width: 800px;height: 500px;}
	#container image {
	   opacity: 0.6;

	}
	#logocontainer{ max-width: 800px; height: 26px; padding-top: 10px;}
	#logo {position: absolute; right:10px;}
	
	@media screen and (min-width: 830px) {
	    #logo {
	        left: 778px;
	    }
	}
	
</style>
<body>
	<!-- you can set minimum dimensions for the chart here -->
	<!-- for example swap the <div below for this version -->
	<!-- <div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div> -->
	
    <div id="container"></div>
	<div id="logocontainer">
		<img id="logo" src="https://s3-eu-west-1.amazonaws.com/cbhighcharts/CB-logo-for-highcharts.png">
	</div>
    <script type="text/javascript">        
	$(function() {
	  Highcharts.setOptions({
	    
	    chart: {
	      style: {
	        fontFamily: 'PT Sans'
	      }
	    },

	  });

$('#container').highcharts({
		chart: {
      renderTo: 'container',
      backgroundColor: 'transparent',
			// you can even use a GIF here, though it gets a bit busyâ€¦
			plotBackgroundImage: 'https://www.carbonbrief.org/wp-content/uploads/2016/08/GettyImages-182686229-smokestacks-emissions.jpg',
			
    	type: 'treemap',
			spacing: [0,-10,0,-10]

    
    },
    style: {
      fontFamily: 'PT Sans'
    },
    title: {
      text: 'CO2 emissions',
	  align: 'left',
		x: 10
    },
  navigation: {
              buttonOptions: {
                  enabled: false
              }
          },


    credits: {
      enabled: false
    },
    plotOptions: {
      treemap: {
        layoutAlgorithm: 'squarified',
             	allowDrillToNode: false,
      },
       series: {
		   levels: [{
			   level: 1,
			   dataLabels: {
				   enabled: true,
		           style: {
		             fontSize: '15px',
		             fontWeight: 'normal',
		             fontFamily: "PT Sans"
		           },
				   align: 'left',
				   verticalAlign: 'top',
				   x: 5
				   
			   }
		   }],
         dataLabels: {
           enabled: true,
           style: {
//             fontSize: '15px',
             fontWeight: 'normal',
             fontFamily: "PT Sans"
           }
         },
       }
      },

    data: {
    		firstRowAsNames: false,
        googleSpreadsheetKey: '1MO8_ZrNuGajy8CX8nPkhTdZpNdbonLDbIjzbCTBfThE',
        seriesMapping: [{
          value: 1,
          id: 2,
          parent: 3,
          color: 4
        }]
    },
          tooltip: {
      valueSuffix: ' MtCO2',
      formatter: function() {
      var globalShare = ((this.point.value * 100)/33508).toFixed(1);
      return this.point.name + ' <br/> ' + ' <span style="color:' + this.point.color + '">\u25CF</span> ' + Highcharts.numberFormat(this.point.value, 0) + ' MtCO2<br/>(' + globalShare + ' % of global total)'
      }
      },
	    },

	    function(chart) { // on complete

	      chart.renderer.image()
	        .add();


	    });


	});
    

    </script>
</body>
</html>